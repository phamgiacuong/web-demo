<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chuyên Hàng Nhật Nội Địa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', 'Noto Sans JP', sans-serif; background-color: #fdfdfd; }

        /* Hiệu ứng xuất hiện mượt mà */
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-fade-up { animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

        /* Hiệu ứng hover cho thẻ sản phẩm */
        .product-card { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .product-card:hover { transform: translateY(-10px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); }
        .product-card img { transition: transform 0.5s ease; }
        .product-card:hover img { transform: scale(1.1); }

        /* Custom thanh cuộn */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .tab-active { color: #dc2626; border-bottom: 3px solid #dc2626; }
    </style>
</head>
<body>

<header class="border-b sticky top-0 bg-white/90 backdrop-blur-md shadow-sm z-40">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
        <div class="flex items-center gap-4">
            <input type="text" oninput="handleSearch(event)" placeholder="Tìm kiếm sản phẩm..."
                   class="text-sm border border-gray-200 rounded-full outline-none w-40 md:w-80 px-5 py-2 focus:border-red-500 focus:ring-1 focus:ring-red-500 transition-all">
        </div>
        <div class="text-center">
            <h1 class="text-2xl md:text-3xl font-bold uppercase text-red-600 tracking-tighter">Hàng Nhật <span class="text-gray-800">Nội Địa</span></h1>
            <p class="text-[8px] tracking-[0.2em] text-gray-400 font-bold uppercase">Japanese Quality Standard</p>
        </div>
        <button onclick="accessAdmin()" class="group flex items-center gap-2 text-[10px] font-bold border-2 border-red-600 text-red-600 px-5 py-2 uppercase rounded-full hover:bg-red-600 hover:text-white transition-all">
            <span>Quản lý</span>
            <svg class="w-3 h-3 group-hover:rotate-90 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg>
        </button>
    </div>

    <div class="bg-white flex justify-center gap-6 md:gap-10 pb-2 text-[11px] uppercase font-bold text-gray-400 cursor-pointer overflow-x-auto px-4 no-scrollbar">
        <span class="tab-cat tab-active whitespace-nowrap px-2 pb-2 transition-colors" onclick="filterByCategory('Tất cả', this)">Tất cả</span>
        <span class="tab-cat whitespace-nowrap px-2 pb-2 hover:text-red-600 transition-colors" onclick="filterByCategory('Thực phẩm chức năng', this)">Thực phẩm chức năng</span>
        <span class="tab-cat whitespace-nowrap px-2 pb-2 hover:text-red-600 transition-colors" onclick="filterByCategory('Quần áo', this)">Quần áo</span>
        <span class="tab-cat whitespace-nowrap px-2 pb-2 hover:text-red-600 transition-colors" onclick="filterByCategory('Bánh kẹo', this)">Bánh kẹo</span>
        <span class="tab-cat whitespace-nowrap px-2 pb-2 hover:text-red-600 transition-colors" onclick="filterByCategory('Đồ uống', this)">Đồ uống</span>
    </div>
</header>

<main id="productList" class="max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-6 p-6 md:p-12 min-h-[60vh]"></main>

<div id="productModal" class="fixed inset-0 bg-black/70 hidden z-50 items-center justify-center p-4 backdrop-blur-sm">
    <div class="bg-white max-w-5xl w-full flex flex-col md:flex-row relative rounded-2xl overflow-hidden shadow-2xl animate-fade-up">
        <button onclick="closeProductModal()" class="absolute top-4 right-4 text-2xl z-20 bg-white/80 rounded-full w-10 h-10 shadow hover:bg-red-500 hover:text-white transition-all flex items-center justify-center">&times;</button>

        <div class="md:w-3/5 p-6 flex flex-col md:flex-row gap-4 bg-gray-50 relative">
            <div id="modalThumbnails" class="flex md:flex-col gap-2 order-2 md:order-1 overflow-x-auto md:w-20 no-scrollbar"></div>
            <div class="flex-grow flex items-center justify-center bg-white rounded-xl order-1 md:order-2 p-6 relative overflow-hidden shadow-inner">
                <button onclick="prevImage()" class="absolute left-2 top-1/2 -translate-y-1/2 bg-white/50 hover:bg-white p-2 rounded-full shadow-lg z-10 transition-transform active:scale-90">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                </button>
                <img id="modalMainImg" src="" class="max-h-[65vh] object-contain transition-all duration-300 cursor-zoom-in" title="Click để phóng to">
                <button onclick="nextImage()" class="absolute right-2 top-1/2 -translate-y-1/2 bg-white/50 hover:bg-white p-2 rounded-full shadow-lg z-10 transition-transform active:scale-90">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </button>
            </div>
        </div>

        <div class="md:w-2/5 p-10 flex flex-col justify-center">
            <h2 id="modalName" class="text-2xl font-bold mb-4 text-gray-800 uppercase tracking-tight leading-tight"></h2>
            <div class="flex items-baseline gap-2 mb-6">
                <span class="text-red-600 font-extrabold text-4xl" id="modalPrice"></span>
            </div>
            <div class="h-1 bg-red-600 w-16 mb-8 rounded-full"></div>
            <p id="modalDesc" class="text-gray-500 text-sm leading-relaxed mb-10 whitespace-pre-line"></p>
            <button class="bg-[#e60012] text-white py-4 rounded-xl font-bold shadow-xl hover:bg-red-700 hover:-translate-y-1 transition-all active:scale-95">LIÊN HỆ ĐẶT HÀNG</button>
        </div>
    </div>
</div>

<div id="adminModal" class="fixed inset-0 bg-black/60 hidden z-[60] items-center justify-center p-4 backdrop-blur-sm">
    <div class="bg-white max-w-4xl w-full flex flex-col md:flex-row shadow-2xl relative max-h-[90vh] overflow-hidden rounded-2xl animate-fade-up">
        <button onclick="closeAdminModal()" class="absolute top-5 right-5 text-3xl text-gray-400 hover:text-red-600 transition-colors">&times;</button>

        <div class="md:w-1/3 border-r bg-gray-50 overflow-y-auto p-4">
            <h4 class="font-bold text-xs uppercase text-gray-400 mb-4 tracking-widest">Danh sách hàng</h4>
            <div id="adminManageList" class="space-y-2"></div>
        </div>

        <div class="md:w-2/3 p-10 overflow-y-auto bg-white relative">
            <div id="loadingImg" class="hidden absolute inset-0 bg-white/90 z-20 flex flex-col items-center justify-center text-red-600 font-bold">
                <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-red-600 mb-4"></div>
                ĐANG XỬ LÝ...
            </div>
            <h3 class="font-bold uppercase mb-8 text-center text-red-600 tracking-[0.3em]">Cập Nhật Kho Hàng</h3>
            <div class="space-y-5">
                <input type="file" id="pFileInput" accept="image/*" multiple class="text-xs w-full file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100">
                <div id="previewContainer" class="hidden grid grid-cols-4 gap-2 border p-3 bg-gray-50 rounded-xl"></div>
                <input type="text" id="pName" placeholder="Tên sản phẩm..." class="w-full border p-3 rounded-xl text-sm outline-none focus:border-red-500 transition-all">
                <input type="text" id="pPrice" placeholder="Giá tiền (ví dụ: 150000)" class="w-full border p-3 rounded-xl text-sm outline-none focus:border-red-500 transition-all">
                <select id="pCat" class="w-full border p-3 rounded-xl text-xs outline-none uppercase font-bold text-gray-500">
                    <option value="Thực phẩm chức năng">Thực phẩm chức năng</option>
                    <option value="Quần áo">Quần áo</option>
                    <option value="Bánh kẹo">Bánh kẹo</option>
                    <option value="Đồ uống">Đồ uống</option>
                </select>
                <textarea id="pDesc" placeholder="Mô tả chi tiết..." class="w-full border p-3 rounded-xl text-sm outline-none h-28 focus:border-red-500 transition-all"></textarea>
                <button onclick="saveProduct()" id="btnSave" class="w-full bg-red-600 text-white py-4 rounded-xl font-bold uppercase hover:bg-red-700 shadow-lg shadow-red-100 transition-all active:scale-95">Lưu sản phẩm</button>
            </div>
        </div>
    </div>
</div>

<div id="lightbox" class="fixed inset-0 bg-black/95 hidden z-[100] items-center justify-center p-4 cursor-zoom-out" onclick="closeLightbox()">
    <img id="lightboxImg" src="" class="max-w-full max-h-full object-contain shadow-2xl transition-transform duration-500">
</div>

<script src="script.js"></script>
</body>
</html>